<div *ngIf="pokemonsTotal.length">
  <ng-autocomplete
    [data]="pokemonsTotal"
    [searchKeyword]="keyword"
    [itemTemplate]="itemTemplate"
    [notFoundTemplate]="notFoundTemplate"
    placeholder="Buscar..."
    (selected)="getDetail($event.name)"
  >
  </ng-autocomplete>

  <ng-template #itemTemplate let-item>
    <a [innerHTML]="item.name"></a>
  </ng-template>

  <ng-template #notFoundTemplate let-notFound>
    <div>No existe el pokemon que buscas :(</div>
  </ng-template>
</div>

<div class="contenedor-home">
  <table class="table-bordered">
    <colgroup>
      <col class="column1" />
      <col class="columns2plus3" span="2" />
    </colgroup>

    <tr>
      <th class="border-izq">Image</th>
      <th>Pokemon Name</th>
      <th>Pokemon Type</th>
      <th class="border-der">Boton</th>
    </tr>
    <tr
      *ngFor="
        let poke of pokemons
          | paginate
            : {
                itemsPerPage: 10,
                currentPage: page,
                totalItems: totalPokemons
              }
      "
      class="card"
    >
      <td>
        <img [src]="poke.sprites.front_default" alt="Pokemon" class="pokemon" />
      </td>

      <td>
        {{ poke.name }}
      </td>
      <td>
        {{ poke.types[0].type.name }}
      </td>

      <td>
        <button (click)="getDetail(poke.name)">Ver detalles</button>
      </td>
    </tr>
  </table>

  <!-- <div class="detalles"> -->
  <div class="detalles" *ngIf="detallePokemon.name !== ''">
    <div>
      {{ detallePokemon.name }} - {{ detallePokemon.weight }} -
      {{ detallePokemon.height }}
      <button (click)="detallePokemon.name = ''">X</button>
    </div>

    <div>
      <form (ngSubmit)="changeName(newNameInput)">
        <input
          type="text"
          placeholder="Nombre"
          name="nombre"
          [(ngModel)]="newNameInput"
        />
        <button type="submit">Cambiar Nombre</button>
      </form>
    </div>
  </div>
</div>
<div class="abecedario">
  <div *ngFor="let item of abecedario | keyvalue">
    {{ item.key }} - {{ item.value }}
  </div>
</div>
<pagination-controls
  (pageChange)="page = $event; pokemons = []; getPokemons()"
></pagination-controls>
